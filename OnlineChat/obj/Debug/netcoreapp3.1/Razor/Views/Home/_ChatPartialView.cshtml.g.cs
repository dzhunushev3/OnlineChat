#pragma checksum "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "410ae77d4593f0b4a5306805f6c46f8f797f49be"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home__ChatPartialView), @"mvc.1.0.view", @"/Views/Home/_ChatPartialView.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\OnlineChat\OnlineChat\Views\_ViewImports.cshtml"
using OnlineChat;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\OnlineChat\OnlineChat\Views\_ViewImports.cshtml"
using OnlineChat.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"410ae77d4593f0b4a5306805f6c46f8f797f49be", @"/Views/Home/_ChatPartialView.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c1089fd256a3a700f94aa35462c852b05b9d69bd", @"/Views/_ViewImports.cshtml")]
    public class Views_Home__ChatPartialView : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<OnlineChat.ViewModels.ChatGroupViewModel>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("<div class=\"chat-box bg-white \">\r\n    <div class=\"sticky-top row m-auto pl-4 pt-2 border-bottom badge-light\">\r\n        <h5 class=\"col-5\" >");
#nullable restore
#line 4 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
                      Write(Model.Group.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h5>\r\n        <input class=\"form-control col-5 mb-2\" type=\"text\" placeholder=\"Search\" aria-label=\"Search\" id=\"searchValue\" oninput=\"Search()\">\r\n    </div>\r\n    <ul");
            BeginWriteAttribute("id", " id=\"", 368, "\"", 388, 1);
#nullable restore
#line 7 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
WriteAttributeValue("", 373, Model.Group.Id, 373, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"list-unstyled chat\">\r\n");
#nullable restore
#line 8 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
         foreach (var message in Model.Messages)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <li class=\"d-flex justify-content-between mb-4\"");
            BeginWriteAttribute("id", " id=\"", 539, "\"", 555, 1);
#nullable restore
#line 10 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
WriteAttributeValue("", 544, message.Id, 544, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                <div class=\"chat-body white p-3 ml-2 z-depth-1\">\r\n                    <div class=\"header\">\r\n                        <strong class=\"primary-font\">");
#nullable restore
#line 13 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
                                                Write(message.User.UserName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</strong>\r\n                        <small class=\"text-muted\">");
#nullable restore
#line 14 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
                                             Write(message.DateTime);

#line default
#line hidden
#nullable disable
            WriteLiteral("</small>\r\n                    </div>\r\n                    <hr class=\"w-100\"/>\r\n                    <p class=\"mb-0\"><a");
            BeginWriteAttribute("name", " name=\"", 937, "\"", 955, 1);
#nullable restore
#line 17 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
WriteAttributeValue("", 944, message.Id, 944, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral("></a>");
#nullable restore
#line 17 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
                                                         Write(message.Messag);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n                </div>\r\n            </li>\r\n");
#nullable restore
#line 20 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"    </ul>
</div>
<div class="" row m-auto pl-4 pt-2 border-bottom badge-light"" id=""searchResultDiv"">
        
    </div>
<div class=""type_msg"">
    
    <div class=""input_msg_write"">
        <input type=""text"" id=""txtmessage"" class=""write_msg"" placeholder=""Type a message"" />
        <input type=""hidden"" id=""idGroup""");
            BeginWriteAttribute("value", " value=\"", 1361, "\"", 1384, 1);
#nullable restore
#line 30 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
WriteAttributeValue("", 1369, Model.Group.Id, 1369, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
        <button class=""msg_send_btn "" type=""button"" onclick=""SendMessage()""><i class=""fa fa-paper-plane-o"" aria-hidden=""true""></i></button>
    </div>
</div>
<script>
    function Search() { //Функция для поиска сообщений в реальном времени 
        var searchParam = $('#searchValue').val();
        var idGroup = $('#idGroup').val();
        if (searchParam === null) {
            alert(""searchParam"");
        }
        $.ajax({
            url: '");
#nullable restore
#line 42 "C:\OnlineChat\OnlineChat\Views\Home\_ChatPartialView.cshtml"
             Write(Url.Action("SearchMessages", "Home"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            type: 'POST',
            data: { 'searchParam': searchParam,'idGroup':idGroup },
            success: function (data) {
                var group = document.getElementById('group');
                group.innerHTML = '';
                ShowSearchResult(data);
            }
        });

    }
</script>
<script>
    function ShowSearchResult(data) {
        if (data != null) {
            if (data.length === 0) {
                AppendSearchResult(""Сообщения не найдено"");

            } else {
                AppendSearchResult(""Найдено "" + data.length + "" сообшений"");
                data.forEach(ShowSearchResultList);


            }
        } else {
            var searchResultDiv = document.getElementById('groupMenu');
            searchResultDiv.innerHTML = 'Group';
            GetGroups();
        }
        
    }
</script>
<script>
    function AppendSearchResult(param) {
        var searchResultDiv = document.getElementById('groupMenu');
        searchR");
            WriteLiteral(@"esultDiv.innerHTML = '';
        var p = document.createElement('p');
        p.innerHTML = param;
        searchResultDiv.appendChild(p);
    }
</script>
<script>
    function ShowSearchResultList(data) {
        console.log(data);
        var group = document.getElementById('group');
        //group.innerHTML = '';
        var userName = data.user.userName;
        var dt = data.dateTime;
        var date = dt.split(""T"");
        var time = date[1].split(""."");
        var dt2 = ""  "" + date[0] + "" "" + time[0];
        var message = data.messag;
        var li = document.createElement('li');
        li.className = ""list-group"";
        var a = document.createElement('a');
        a.href = '#' + data.id;
        a.className = 'list-group-item list-group-item-action flex-column align-items-start';
        var div = document.createElement('div');
        div.className = 'd-flex w-100 justify-content-between';
        var h5 = document.createElement('p');
        h5.innerHTML = userName;");
            WriteLiteral(@"
        h5.className = ""mb-1"";
        var small = document.createElement('small');
        small.innerHTML = dt2;
        div.appendChild(h5);
        div.appendChild(small);
        var p = document.createElement('p');
        p.innerHTML = message.substr(0, 30);
        p.className = ""mb-1"";
        
        a.appendChild(div);
        a.appendChild(p);
        li.appendChild(a);
        group.appendChild(li);
        
    }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<OnlineChat.ViewModels.ChatGroupViewModel> Html { get; private set; }
    }
}
#pragma warning restore 1591
